---
title: 强化-计网第三章-数据链路层
top: false
cover: false
toc: true
mathjax: true
tags:
  - 计网
  - 数据链路层
  - 强化
  - 总结
  - 考研
categories:
  - 计网
keywords: 吉林大学，考研，计算机网络，数据链路层
description: 吉林大学，考研，计算机网络，数据链路层
summary: 强化-计网第三章-数据链路层
abbrlink: 2fcb
date: 2020-09-23 19:29:11
password:
---
## 强化 计网第三章 数据链路层

### 1.线路规划

#### 1.1询问/应答（ENQ/ACK）

- 一条链路两端的**设备级别相同**，任意一个设备都可以启动一个会话过程（**点对点**）
- 工作方式
- 启动方首先发送一个**询问帧（ENQ）**询问接收方是否可以接收数据
- 接收方如果已经**准备好接收**，必须应答一个**确认帧（ACK）**
- 如果没用做好准备，就必须应答一个否定帧（NAK）

#### 1.2轮询（Poll）/选择（Select）方式

- 有一个设备为主设备，其他设备为从设备的拓补结构中采用（**多点系统**）
- 每个设备都有一个地址标识自身
- 信息传输必须通过主设备

##### 1.2.1轮询

- 如果主设备希望**接收**数据，它将逐个询问从设备是否有数据发送，这个功能称为轮询

##### 1.2.2选择

- 如果主设备希望**发送**数据，它告知目标从设备准备好接收数据，这个功能称为选择

### 2.流量控制与差错控制

- 两者是结合在一起实现的，共有两种技术：停止等待协议和滑动窗口协议

#### 2.1差错控制

- 差错控制主要指错误检测和重传方法

#### 2.2自动重复请求（ARQ）

- 在一个帧中出现任何一个错误，接收方就返回一个否认帧，出错的帧就被发送方重新传送。这个过程被称为自动重复请求（ARQ）

#### 2.3停止等待协议

- 发送方每发送一帧后就等待一个确认帧。**只有当接收到确认帧后，发送方才发送下一帧**，这种过程不断交替，直到发送方发送一个传输结束帧（EOT）
- 优点：简单
- 缺点：效率低，每次都要等待

##### 2.3.1信道利用率

- 无差错的情况下完成一帧的发送时间为一个**窗口时间WT**:

$$
WT=t_I+2t_p+2t_{Proc}+t_s
$$

- **$t_I$是发送一个数据帧的时间**，设一个数据帧的长度为$L_f$比特，发送数据速率为$C$bps，则$t_I=L_f/C$秒

- **$t_S$是确认帧的发送时间**，设一个确认帧的长度为$L_S$比特，发送数据速率为$C$bps，则$t_S=L_S/C$秒
- **$ t_P $是电信号在物理链路上的传播延迟**

- **$t_{Proc}$是收到一帧的处理时间和一个帧的形成时间**

- 无差错信道利用率：

$$
F=(t_I+t_p)/WT
$$

- 有效数据传送速率：

$$
S=N/WT,N:一帧的有效数据位数
$$

- $t_W \approx t_I+2t_P$

##### 2.3.2差错控制

###### 2.3.2.1帧破坏

- 自动重复请求（ARQ）

###### 2.3.2.2帧丢失

- 定时器，判断数据帧在传输中丢失，超时自动重发

###### 2.3.2.3应答帧丢失

- 先重传数据帧
- 数据帧和应答帧以交替的标识0和1出现在数据帧中，每次发送一个新的数据帧，编号信息和上次发送的不一样。这样就可以区分重复的数据帧
- 丢弃重复帧

#### 2.4滑动窗口协议

##### 2.4.1流量控制

- 在滑动窗口协议中，发送方在收到确认消息前可以发送若干帧。帧可以直接依次发送
- 接收方使用一个应答帧来对多个数据帧的接收进行确认
- 在发送方，只要窗口未填满就可以在未收到确认帧的情况下继续发送数据帧
- **发送方窗口用于存放已经发送但未确认的数据帧和在收到确认帧之前可以发送的数据帧**
- 例如：
- 接收方发送了一个编号为5的确认帧，表示接收方收到了5号帧以前的所有帧，希望发送方发送5号帧

##### 2.4.2差错控制

###### 2.4.2.1回退N自动重复请求

- 如果有一帧丢失或者损坏了，未被确认帧确认的帧都必须进行重传
- <font color="red">窗口大小：</font>如果帧的编号范围是$0 \sim n-1$，则窗口尺寸为$n-1$

###### 2.4.2.2选择拒绝自动重复请求

- 只有特定的丢失或损坏帧被重发。接收方收到的数据帧可以是不按顺序到达的
- 与回退n协议自动重传请求有以下不同：
- 接收设备必须具有排序的逻辑功能
- <font color="red">窗口大小：</font>如果帧的编号范围是$0 \sim n-1$，则窗口尺寸小于等于$n/2$

##### 2.4.3滑动窗口协议的效率

##### 2.4.4窗口大小的选择

$$
nt_I>2(t_I+t_P)
$$

- $t_I$：一个帧的发送时间
- $t_P$：传播时间

### 3.HDLC高级数据链路控制协议

#### 3.1HDLC帧格式

- 信息帧（I-帧）：用来传输用户数据以及与用户数据有关的控制信息
- 监控帧（S-帧）：用来传输控制信息，主要是数据链路层流量控制和错误控制信息
- 无编号帧（U-帧）：用来进行链路管理服务的

##### 3.1.1标志字段

- 标志字段为一个字节（8位），其位模式为01111110
- 它用来**表示一个帧的开始和结束，并且为接收方提供同步手段**

##### 3.1.2地址字段

- 可以有1个或几个字节的长度

##### 3.1.2控制字段

- 有一个或两个字节
- 用来进行**流量管理**

### 4.数据链路层网络互联

#### 4.1网桥

- 网桥是一种存储转发设备，用于连接局域网
- 网桥常用于局域网之间的互联
- 是数据链路层上的互连设备，网桥同时作用在$OSI$的物理层和数据链路层
- 网桥具有隔离通信的功能

#### 4.2网桥路由算法

##### 4.2.1固定路由策略 --- 固定路由网桥

##### 4.2.2路由学习策略 --- 透明网桥

###### 4.2.2.1生成树算法

##### 4.2.3源路由策略 --- 源路由网桥