---
title: 计网第四章-数据链路层
top: false
cover: false
toc: false
mathjax: true
tags:
  - 计网
  - 总结
  - 考研
categories:
  - 计网
summary: 第四章 数据链路层
abbrlink: '2693'
date: 2020-07-28 19:51:43
password:
---
## 第四章 数据链路层

1. 线路规程：

   - 询问/确认模式

     - 使用场合：一条链路的两端的设备级别相同，任意一个设备都可以启动一个会话过程

     - 工作方式：启动方首先发送一个询问帧（ENQ）询问接收方是否可以接收数据。接收方如果已经准备好接收，必须回答一个确认帧（ACK）。一旦讲所有数据发送完毕，发送系统以一个传输结束帧（EOT）结束传输
- 轮询/选择模式
     - 使用场合：在有一个设备作为主设备，其他设备为从设备的多点连接系统
     - 工作方式
     - 选择：当主设备有数据发送时就采用选择模式。在发送数据前，主设备产生并发送一个选择帧（SEL），并在帧的地址域中填入接收数据的从设备的地址。如果从设备是激活的并且正在运行，其地址和选择帧中的地址域中的地址相同，它向主设备返回一个确认帧（ACK）。
     - 轮询：轮询功能是主设备请求从设备进行传输。在没有接到请求前，从设备是不允许发送数据的。当主设备收到否认帧，主设备就轮询下一个从设备，直到他发现一个要发送的从设备为止。当回应是数据帧时，从设备读入该帧并向从设备返回一个确认帧来确认已经接收。
2. 流量控制与差错控制
   - 自动重复请求（ARQ）：数据帧在传输中出现错误，接收方就返回一个否定应答帧（NAK），出错的帧就会被发送方重新传送。这个过程叫做自动重复请求。
   - 数据被重传的情况有三种：**帧破坏、帧丢失和应答帧丢失**
   - 流量控制和差错控制是结合在一起实现的。

3. **停止等待协议**

   - 发送方每发送一帧后就等待应答。只有收到一个应答帧（ACK）后，才发送下一个帧。直到发送方发送一个传输结束帧（也就是线路上只有一帧）

   - 完成一帧发送所需最短的时间

     - 一个窗口时间$WT$。$WT=t_1+2t_p+2t_{Proc}+t_S$。
     
       _其中，$t_I$是发送一个数据帧的时间，设一个数据帧的长度为$L_f$比特，发送数据速率为$C$bps，则$t_I=L_f/C$秒。_
     
       _$t_s$是确认帧的发送时间，设一个确认帧的长度为$L_S$比特，发送数据速率为$C$bps，则$t_S=L_S/C$秒。_
     
       _$t_p$是电信号在物理链路上的传播延迟。_
     
       $t_{Proc}$是收到一帧的处理时间和一个帧的形成时间。
     
     

4. **滑动窗口协议**
   - 流量控制：发送方在收到应答消息前可以发送多个帧。接收方使用一个确认（ACK）帧来对多个帧的接收进行确认。具体可以接受多少帧视窗口大小而定。
     - 回退n自动重复请求
     - 选择拒绝自动重复请求：窗口尺寸小于等于$n/2$。